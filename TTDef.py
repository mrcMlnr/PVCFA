import chess.engine
import math

DEPTH__BOUND = chess.engine.Limit(depth=12)
MULTI__PV = 1
POINT__OF__VIEW = 1
DEPTH__PV__LIMIT = 6
SCORE__TYPE = 'cp'  # 'wdl' or 'cp'
PV__SELECTED = 0

alfa = math.atanh(0.99) / 9.9

boardIrregularStatus = ['Status.NO_WHITE_KING',
                        'Status.NO_BLACK_KING',
                        'Status.TOO_MANY_KINGS',
                        'Status.TOO_MANY_WHITE_PAWNS',
                        'Status.TOO_MANY_BLACK_PAWNS',
                        'Status.PAWNS_ON_BACKRANK',
                        'Status.TOO_MANY_WHITE_PIECES',
                        'Status.TOO_MANY_BLACK_PIECES',
                        'Status.BAD_CASTLING_RIGHTS',
                        # 'Status.INVALID_EP_SQUARE',
                        'Status.OPPOSITE_CHECK',
                        'Status.EMPTY',
                        'Status.RACE_CHECK',
                        'Status.RACE_OVER',
                        'Status.RACE_MATERIAL',
                        'Status.TOO_MANY_CHECKERS',
                        'Status.IMPOSSIBLE_CHECK']

positionConversion = {0: 'a1', 1: 'b1', 2: 'c1', 3: 'd1', 4: 'e1', 5: 'f1', 6: 'g1', 7: 'h1',
                      8: 'a2', 9: 'b2', 10: 'c2', 11: 'd2', 12: 'e2', 13: 'f2', 14: 'g2', 15: 'h2',
                      16: 'a3', 17: 'b3', 18: 'c3', 19: 'd3', 20: 'e3', 21: 'f3', 22: 'g3', 23: 'h3',
                      24: 'a4', 25: 'b4', 26: 'c4', 27: 'd4', 28: 'e4', 29: 'f4', 30: 'g4', 31: 'h4',
                      32: 'a5', 33: 'b5', 34: 'c5', 35: 'd5', 36: 'e5', 37: 'f5', 38: 'g5', 39: 'h5',
                      40: 'a6', 41: 'b6', 42: 'c6', 43: 'd6', 44: 'e6', 45: 'f6', 46: 'g6', 47: 'h6',
                      48: 'a7', 49: 'b7', 50: 'c7', 51: 'd7', 52: 'e7', 53: 'f7', 54: 'g7', 55: 'h7',
                      56: 'a8', 57: 'b8', 58: 'c8', 59: 'd8', 60: 'e8', 61: 'f8', 62: 'g8', 63: 'h8'}

piecesLetterDict = {'P': 'Pawn', 'p': 'Pawn', 'K': 'Knight', 'k': 'Knight', 'B': 'Bishop', 'b': 'Bishop', 'R': 'Rook',
                    'r': 'Rook', 'Q': 'Queen', 'q': 'Queen', 'K': 'King', 'k': 'King'}

piecesNumberDict = {1: 'Pawn', 2: 'Knight', 3: 'Bishop', 4: 'Rook', 5: 'Queen', 6: 'King'}

colorDict = {False: 'Black', True: 'White'}

colorNumDict = {'Black': 0, 'White': 1}

centerSquareCoordinatesOld = {'a1': (42.5, 42.5), 'b1': (87.5, 42.5), 'c1': (132.5, 42.5), 'd1': (177.5, 42.5),
                              'e1': (222.5, 42.5), 'f1': (267.5, 42.5), 'g1': (312.5, 42.5), 'h1': (357.5, 42.5),
                              'a2': (42.5, 87.5), 'b2': (87.5, 87.5), 'c2': (132.5, 87.5), 'd2': (177.5, 87.5),
                              'e2': (222.5, 87.5), 'f2': (267.5, 87.5), 'g2': (312.5, 87.5), 'h2': (357.5, 87.5),
                              'a3': (42.5, 132.5), 'b3': (87.5, 132.5), 'c3': (132.5, 132.5), 'd3': (177.5, 132.5),
                              'e3': (222.5, 132.5), 'f3': (267.5, 132.5), 'g3': (312.5, 132.5), 'h3': (357.5, 132.5),
                              'a4': (42.5, 177.5), 'b4': (87.5, 177.5), 'c4': (132.5, 177.5), 'd4': (177.5, 177.5),
                              'e4': (222.5, 177.5), 'f4': (267.5, 177.5), 'g4': (312.5, 177.5), 'h4': (357.5, 177.5),
                              'a5': (42.5, 222.5), 'b5': (87.5, 222.5), 'c5': (132.5, 222.5), 'd5': (177.5, 222.5),
                              'e5': (222.5, 222.5), 'f5': (267.5, 222.5), 'g5': (312.5, 222.5), 'h5': (357.5, 222.5),
                              'a6': (42.5, 267.5), 'b6': (87.5, 267.5), 'c6': (132.5, 267.5), 'd6': (177.5, 267.5),
                              'e6': (222.5, 267.5), 'f6': (267.5, 267.5), 'g6': (312.5, 267.5), 'h6': (357.5, 267.5),
                              'a7': (42.5, 312.5), 'b7': (87.5, 312.5), 'c7': (132.5, 312.5), 'd7': (177.5, 312.5),
                              'e7': (222.5, 312.5), 'f7': (267.5, 312.5), 'g7': (312.5, 312.5), 'h7': (357.5, 312.5),
                              'a8': (42.5, 357.5), 'b8': (87.5, 357.5), 'c8': (132.5, 357.5), 'd8': (177.5, 357.5),
                              'e8': (222.5, 357.5), 'f8': (267.5, 357.5), 'g8': (312.5, 357.5), 'h8': (357.5, 357.5)}

centerSquareCoordinates = {
    "a1": (37.5, 37.5), "b1": (82.5, 37.5), "c1": (127.5, 37.5), "d1": (172.5, 37.5), "e1": (217.5, 37.5),
    "f1": (262.5, 37.5), "g1": (307.5, 37.5), "h1": (352.5, 37.5),
    "a2": (37.5, 82.5), "b2": (82.5, 82.5), "c2": (127.5, 82.5), "d2": (172.5, 82.5), "e2": (217.5, 82.5),
    "f2": (262.5, 82.5), "g2": (307.5, 82.5), "h2": (352.5, 82.5),
    "a3": (37.5, 127.5), "b3": (82.5, 127.5), "c3": (127.5, 127.5), "d3": (172.5, 127.5), "e3": (217.5, 127.5),
    "f3": (262.5, 127.5), "g3": (307.5, 127.5), "h3": (352.5, 127.5),
    "a4": (37.5, 172.5), "b4": (82.5, 172.5), "c4": (127.5, 172.5), "d4": (172.5, 172.5), "e4": (217.5, 172.5),
    "f4": (262.5, 172.5), "g4": (307.5, 172.5), "h4": (352.5, 172.5),
    "a5": (37.5, 217.5), "b5": (82.5, 217.5), "c5": (127.5, 217.5), "d5": (172.5, 217.5), "e5": (217.5, 217.5),
    "f5": (262.5, 217.5), "g5": (307.5, 217.5), "h5": (352.5, 217.5),
    "a6": (37.5, 262.5), "b6": (82.5, 262.5), "c6": (127.5, 262.5), "d6": (172.5, 262.5), "e6": (217.5, 262.5),
    "f6": (262.5, 262.5), "g6": (307.5, 262.5), "h6": (352.5, 262.5),
    "a7": (37.5, 307.5), "b7": (82.5, 307.5), "c7": (127.5, 307.5), "d7": (172.5, 307.5), "e7": (217.5, 307.5),
    "f7": (262.5, 307.5), "g7": (307.5, 307.5), "h7": (352.5, 307.5),
    "a8": (37.5, 352.5), "b8": (82.5, 352.5), "c8": (127.5, 352.5), "d8": (172.5, 352.5), "e8": (217.5, 352.5),
    "f8": (262.5, 352.5), "g8": (307.5, 352.5), "h8": (352.5, 352.5)
}

posnegValueRepresentationLocation = {
    "a1": (17, 15, 58, 15), "b1": (62, 15, 103, 15), "c1": (107, 15, 148, 15), "d1": (152, 15, 193, 15),
    "e1": (197, 15, 238, 15), "f1": (242, 15, 283, 15), "g1": (287, 15, 328, 15), "h1": (332, 15, 373, 15),
    "a2": (17, 60, 58, 60), "b2": (62, 60, 103, 60), "c2": (107, 60, 148, 60), "d2": (152, 60, 193, 60),
    "e2": (197, 60, 238, 60), "f2": (242, 60, 283, 60), "g2": (287, 60, 328, 60), "h2": (332, 60, 373, 60),
    "a3": (17, 105, 58, 105), "b3": (62, 105, 103, 105), "c3": (107, 105, 148, 105), "d3": (152, 105, 193, 105),
    "e3": (197, 105, 238, 105), "f3": (242, 105, 283, 105), "g3": (287, 105, 328, 105), "h3": (332, 105, 373, 105),
    "a4": (17, 150, 58, 150), "b4": (62, 150, 103, 150), "c4": (107, 150, 148, 150), "d4": (152, 150, 193, 150),
    "e4": (197, 150, 238, 150), "f4": (242, 150, 283, 150), "g4": (287, 150, 328, 150), "h4": (332, 150, 373, 150),
    "a5": (17, 195, 58, 195), "b5": (62, 195, 103, 195), "c5": (107, 195, 148, 195), "d5": (152, 195, 193, 195),
    "e5": (197, 195, 238, 195), "f5": (242, 195, 283, 195), "g5": (287, 195, 328, 195), "h5": (332, 195, 373, 195),
    "a6": (17, 240, 58, 240), "b6": (62, 240, 103, 240), "c6": (107, 240, 148, 240), "d6": (152, 240, 193, 240),
    "e6": (197, 240, 238, 240), "f6": (242, 240, 283, 240), "g6": (287, 240, 328, 240), "h6": (332, 240, 373, 240),
    "a7": (17, 285, 58, 285), "b7": (62, 285, 103, 285), "c7": (107, 285, 148, 285), "d7": (152, 285, 193, 285),
    "e7": (197, 285, 238, 285), "f7": (242, 285, 283, 285), "g7": (287, 285, 328, 285), "h7": (332, 285, 373, 285),
    "a8": (17, 330, 58, 330), "b8": (62, 330, 103, 330), "c8": (107, 330, 148, 330), "d8": (152, 330, 193, 330),
    "e8": (197, 330, 238, 330), "f8": (242, 330, 283, 330), "g8": (287, 330, 328, 330), "h8": (332, 330, 373, 330)
}

puzzlesDictionary = puzdict = {"length": 102, "puzzles": [
    {"fen": "2r2rk1/pp1bqpp1/2nppn1p/2p3N1/1bP5/1PN3P1/PBQPPPBP/3R1RK1 w - - 0 1", "responseMoves": ["exd5", "hxg5"],
     "saliencyGroundTruth": ["c3", "c2", "f8", "b2", "f7", "e7", "g5"], "solution": ["Nd5", "Bxf6", "Bxe7"]},
    {"fen": "r2qrbk1/1bp2ppp/p2p1n2/2p2NB1/4P3/2N2Q2/PPP2PPP/R3R1K1 w - - 0 1", "responseMoves": ["gxh6", "Bg7"],
     "saliencyGroundTruth": ["f5", "f7", "g5", "f3", "g7", "d8", "f6"], "solution": ["Nh6+", "Bxf6", "Bxd8"]},
    {"fen": "2r4k/3r1p1p/1p2pP2/p2pPp1P/P2P1Q2/6R1/4B1PK/2q5 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["g3", "f7", "f6", "f4", "c1"], "solution": ["Rg8+"]},
    {"fen": "R4rk1/5bb1/1N1Qpq1p/3pn1p1/3N4/2P2P1P/P5P1/5B1K w - - 0 1", "responseMoves": ["exd5", "Bxf8"],
     "saliencyGroundTruth": ["b6", "a8", "d6", "d5", "f3", "e6"], "solution": ["Nxd5", "Rxf8+", "Qxf6"]},
    {"fen": "5r1k/bp4pp/1n6/5qN1/1PR5/P2Q3P/5PP1/6K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["c4", "g2", "f2", "g5", "g7", "d3"], "solution": ["Rf4"]},
    {"fen": "r2b1r1k/pppq2pn/2npb1Q1/3N1N1p/2B1PP1P/8/PPP5/2K3RR w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["d5", "c4", "f5", "g6", "g1"], "solution": ["Nde7"]},
    {"fen": "2rr2kb/1p1b1p1p/p2pp1pB/q3n3/2PNP3/1PN4P/P2Q1PP1/2RR2K1 w - - 0 1", "responseMoves": ["Qxd2"],
     "saliencyGroundTruth": ["c3", "h8", "a5", "h6", "h7", "f7", "d2"], "solution": ["Nd5", "Ne7#"]},
    {"fen": "2q5/pR6/1p3pnk/1P4pp/8/5QPP/P2r2BK/8 w - - 0 1", "responseMoves": ["Kxh5"],
     "saliencyGroundTruth": ["f3", "g2", "h3"], "solution": ["Qxh5+", "Rh7#"]},
    {"fen": "1nkrnr2/pp1bbp1p/1qp3p1/3P4/8/1NNB3P/PPQ3PB/1K1R3R w - - 0 1", "responseMoves": ["Bxd6", "Qxb3", "Be6"],
     "saliencyGroundTruth": ["d5", "e7", "c6", "d3", "b6", "b3", "c2"], "solution": ["d6", "Nd5", "axb3", "Nf4"]},
    {"fen": "8/7p/2p1r3/Qqkrp3/4R1P1/7P/1P1p4/4RK2 w - - 0 1", "responseMoves": ["Kxc4"],
     "saliencyGroundTruth": ["e4", "b2", "d5", "e6", "a5"], "solution": ["Rc4+", "Qc3#"]},
    {"fen": "4r1k1/pp1rBp1p/5Qp1/3q4/8/2P4P/3nRPP1/4R1K1 w - - 0 1", "responseMoves": ["Kxh8", "Kg8"],
     "saliencyGroundTruth": ["f6", "e2", "e7"], "solution": ["Qh8+", "Bf6+", "Rxe8#"]},
    {"fen": "r1b4k/3q2rp/8/2pP1Q2/1pB3n1/7R/PP4PP/3R2K1 w - - 0 1", "responseMoves": ["Rxh7"],
     "saliencyGroundTruth": ["h3", "c4", "f5"], "solution": ["Rxh7+", "Qf8#"]},
    {"fen": "q1r1r2k/p5pp/1p2B3/1bbP4/8/3R2P1/PB2QP1P/2R3K1 w - - 0 1", "responseMoves": ["Kxg7", "Kg6", "Kh6", "Kh5"],
     "saliencyGroundTruth": ["b2", "f2", "e2", "e6", "g3"], "solution": ["Bxg7+", "Qe5+", "Qf5+", "Qf6+", "g4#"]},
    {"fen": "5k2/p5pp/r7/2pB2p1/b1P5/6P1/4PP1P/R5K1 w - - 0 1", "responseMoves": [], "saliencyGroundTruth": ["a1"],
     "solution": ["Ra2"]}, {"fen": "2b3k1/p4ppp/1p6/8/5Q1P/8/Pq3PP1/1B4K1 w - - 0 1", "responseMoves": ["Qf6"],
                            "saliencyGroundTruth": ["b1", "f2", "h7", "g7", "f4", "f7", "c8"],
                            "solution": ["Bf5", "Qc7"]},
    {"fen": "8/4Nk2/5P2/pK4P1/P6b/8/8/8 w - - 0 1", "responseMoves": ["Kxf6", "Kxg7"],
     "saliencyGroundTruth": ["g5", "f6", "h4", "e7"], "solution": ["g6+", "g7", "Nf5+"]},
    {"fen": "2r1k3/pp1b2b1/4p1r1/5RBp/5QqP/3B4/PPPKR3/8 w - - 0 1", "responseMoves": ["Bxf8"],
     "saliencyGroundTruth": ["f5", "f4", "g5", "d3"], "solution": ["Rf8+", "Bxg6#"]},
    {"fen": "2r5/p4pk1/2q2Npp/8/2bP4/8/P4PPP/Q3R1K1 w - - 0 1", "responseMoves": ["Rxe8", "Qf6", "Kxf6"],
     "saliencyGroundTruth": ["f6", "a1", "e1"], "solution": ["Ne8+", "d5+", "Qxf6+", "Rxe8"]},
    {"fen": "2r2k2/p1rbnpbp/3Q1np1/q2P4/Pp4P1/2N1B1NP/1P3PB1/2R1R1K1 w - - 0 1",
     "responseMoves": ["Kxe7", "Kd8", "Ke8"],
     "saliencyGroundTruth": ["d6", "a5", "d7", "c7", "f7", "e1", "f6", "c8", "b4"],
     "solution": ["Qxe7+", "Bc5+", "Be7+", "Bxb4+"]},
    {"fen": "r3k2r/p2bbppp/4p3/2p1B1q1/3Q4/2PB4/P1P2PPP/R2R2K1 w kq - 0 1", "responseMoves": ["Kxd7", "Kc8"],
     "saliencyGroundTruth": ["d4", "g2", "a7", "d1", "e7", "e5", "d7"], "solution": ["Qxd7+", "Bb5+", "Ba6#"]},
    {"fen": "1r1q2k1/R4p2/3Pb2p/4Q1p1/1p2B3/2p3PP/1P3P2/6K1 w - - 0 1", "responseMoves": ["Kxh7"],
     "saliencyGroundTruth": ["e4", "a7", "e5", "f7", "d6", "f2"], "solution": ["Bh7+", "Qxe6"]},
    {"fen": "1r3b2/2r2kpp/p2pp2q/4P2P/3N1P2/2p4Q/P1P5/K2R2R1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["g1", "h3", "d4", "f8", "g7", "h6"], "solution": ["Rg6"]},
    {"fen": "br2rk2/qn2b1np/2Rp2pN/pp1Pp3/1B2Pp2/1P1B1N1P/P2Q1PP1/2R3K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["f2", "f3", "b4", "c6", "d2", "e7", "b5", "e5", "g7", "f4"], "solution": ["Nxe5"]},
    {"fen": "5r1k/p4rq1/3p2p1/2pB3p/2P3b1/3P2P1/P3RP1P/2Q1R1K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["e2", "d5", "f2", "e1", "c1", "g7"], "solution": ["Re7"]},
    {"fen": "R1b2r2/7k/1R4p1/2pN3p/2P1B1q1/3Pp1P1/4P2P/6K1 w - - 0 1", "responseMoves": ["Qxe2", "Kh8", "Kg8", "Kxg7"],
     "saliencyGroundTruth": ["d5", "g3", "a8", "d3", "e4"], "solution": ["Rxg6", "Ra7+", "Rh6+", "Rg7+", "Rh7+"]},
    {"fen": "2q3k1/4Qp1p/p2Pn1pB/1p1r4/8/1P5P/1P4P1/4R1K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["e1", "h6", "e7", "e6"], "solution": ["Rxe6"]},
    {"fen": "2n2rk1/r2b1ppp/pq6/3Bp3/3pP3/6Q1/PP1B2PP/2R1R1K1 w - - 0 1", "responseMoves": ["Bxc6", "g6"],
     "saliencyGroundTruth": ["c1", "d5", "g3", "d2", "d4"], "solution": ["Rc6", "Bh6", "Qxe5"]},
    {"fen": "5b1k/p5pp/8/1pp1B3/8/Pr4P1/5PKP/4R3 w - - 0 1", "responseMoves": ["Kg8"],
     "saliencyGroundTruth": ["e5", "h7", "e1", "f8"], "solution": ["Bd6", "Re8"]},
    {"fen": "6r1/R1R5/p4pk1/1p1p1p1p/1P1P3P/6PK/4rq2/2Q5 w - - 0 1", "responseMoves": ["fxg5"],
     "saliencyGroundTruth": ["c1", "h4", "a7", "c7"], "solution": ["Qg5+", "Rxa6+"]},
    {"fen": "rq3b1r/p2Qnppp/k1B5/8/2N1P3/5b2/PP3P1P/R1B1K2R w KQ - 0 1", "responseMoves": ["Qxb7"],
     "saliencyGroundTruth": ["c6", "b8", "d7", "c4"], "solution": ["Bb7+", "Qa4#"]},
    {"fen": "r3r3/2q2kp1/3p1b2/p3pQ2/Pp2P3/4B3/1PP4P/2KR2R1 w - - 0 1", "responseMoves": ["Kxg7", "Kf7", "Ke6"],
     "saliencyGroundTruth": ["c2", "g1", "d1", "f5"], "solution": ["Rxg7+", "Rg1+", "Qh7+", "Qxc7"]},
    {"fen": "2bq1r1k/6rp/pp6/3p1B2/3P3Q/4PR1P/P7/5R1K w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["f5", "h4", "f1", "f3"], "solution": ["Be6"]},
    {"fen": "8/1pQ2ppk/2b1p2p/3q4/6N1/6KP/P4PP1/7r w - - 0 1", "responseMoves": ["gxf6"],
     "saliencyGroundTruth": ["g4", "e6", "c7", "d5"], "solution": ["Nf6+", "Qxf7+"]},
    {"fen": "4r2k/pR5p/6p1/4b3/3B4/2P2K2/1P6/8 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["b7", "d4", "c3"], "solution": ["Rb8"]},
    {"fen": "r1b1r1k1/pp1nqp2/2p1p1pp/8/4N3/P1Q1P3/1P3PPP/1BRR2K1 w - - 0 1", "responseMoves": ["Bxd7", "Kf8"],
     "saliencyGroundTruth": ["d1", "f7", "c3", "e4", "e7", "c6", "d7"], "solution": ["Rxd7", "Nf6+", "Nd5"]},
    {"fen": "4r1bk/pp4pp/2nq4/3n2N1/2BP4/P2Q2P1/3B3P/R5K1 w - - 0 1", "responseMoves": ["Bxh7", "Kg8"],
     "saliencyGroundTruth": ["d3", "g5", "d6"], "solution": ["Qxh7+", "Nf7+", "Nxd6"]},
    {"fen": "r3br1k/p5pp/1p3p2/5P2/4P2R/2P1Q1R1/q3B1PP/6K1 w - - 0 1", "responseMoves": ["Kxg7", "Kf7"],
     "saliencyGroundTruth": ["g3", "h4", "f5", "f8", "e3"], "solution": ["Rxg7", "Qh6+", "Qxh7#"]},
    {"fen": "2r1kr2/pR5p/2q5/3p4/Q3bP2/8/PP4PP/4R1K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["e1", "a4", "b7", "c6"], "solution": ["Rc1"]},
    {"fen": "r3n1k1/2rR1p1p/p1p1q1p1/2B1p3/R3P3/1P5P/P2Q1PP1/6K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["d2", "g6", "c7", "c5", "e8", "c6"], "solution": ["Qh6"]},
    {"fen": "q5k1/5ppp/4p3/1p1p4/1PnP4/2P4P/1Q2RPPK/r1N5 w - - 0 1", "responseMoves": ["Qxa1", "Qxa2"],
     "saliencyGroundTruth": ["b2", "h7", "f7", "g7", "e2", "c1", "a1"], "solution": ["Qxa1", "Ra2", "Nxa2"]},
    {"fen": "k6r/rb3R1p/NQ4p1/2p2n2/1p6/8/PPn3PP/6K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["a6", "b6", "f7"], "solution": ["Qc7"]},
    {"fen": "6R1/p4p2/1p2q2p/8/6Pk/8/PP2r1PK/3Q4 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["d1", "g2", "g4", "g8"], "solution": ["Qe1+"]},
    {"fen": "r4rk1/pb2qpnp/1p2p1p1/2p5/4N3/1P2P1P1/P4PBP/R1QR2K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["d1", "e4", "f7", "e7"], "solution": ["Rd7"]},
    {"fen": "6k1/r6p/pp1p2p1/2pP2q1/P1Pb4/4B3/1P1Q2PP/5RK1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["d2", "g2", "g5", "d4", "e3"], "solution": ["Qxd4"]},
    {"fen": "r2r1bk1/1p3p1p/3P2p1/p2P4/4NP1Q/2N4P/1q4P1/4R1K1 w - - 0 1", "responseMoves": ["Kg7", "Kxf6", "Kf5"],
     "saliencyGroundTruth": ["e4", "h4", "c3", "e1"], "solution": ["Nf6+", "Qxh7+", "Ne4+", "Qxf7+"]},
    {"fen": "r1bq1r1k/p3b1p1/1p1p3p/n3p1PQ/8/P1P3N1/BP3PP1/R3K2R w KQ - 0 1", "responseMoves": ["gxh6", "Kg7"],
     "saliencyGroundTruth": ["h5", "g3", "a2", "g5", "h1"], "solution": ["Qxh6+", "Rxh6+", "Nh5#"]},
    {"fen": "4r3/p1Rb2k1/1p1r1ppp/3P4/3QqN2/8/P5P1/2R3K1 w - - 0 1", "responseMoves": ["Rxe4"],
     "saliencyGroundTruth": ["d4", "c7", "c1", "f4"], "solution": ["Qxe4", "R1c6"]},
    {"fen": "5r1r/1p3pp1/4pk2/p1q2nNp/Pn2QP2/B7/6PP/4R2K w - - 0 2", "responseMoves": ["fxe6"],
     "saliencyGroundTruth": ["e4", "e1", "f4", "g5", "g7", "f5"], "solution": ["Qxe6+", "Rxe6#"]},
    {"fen": "5r1k/6p1/p2p1rRp/2pPpq1Q/8/PPp1P3/5P1R/K7 w - - 0 1", "responseMoves": ["gxh6"],
     "saliencyGroundTruth": ["h5", "g6", "h2"], "solution": ["Qxh6+", "Rhxh6#"]},
    {"fen": "2rn2rk/pp2Qp1p/1q6/5p2/5P2/P1P3R1/1P4PP/1R5K w - - 0 1", "responseMoves": ["f6", "Kxg8", "Kg7"],
     "saliencyGroundTruth": ["e7", "d8", "c8", "g3"], "solution": ["Qe5+", "Rxg8+", "Qe8+", "Qd7+"]},
    {"fen": "r4k2/5rbQ/1q2p1R1/pppppp2/3P4/1PP1P3/PB4PP/5RK1 w - - 0 1", "responseMoves": ["Rxf5"],
     "saliencyGroundTruth": ["f1", "g6", "h7", "b6", "e6"], "solution": ["Rxf5", "Qxg7+"]},
    {"fen": "brr3k1/2R2ppp/4p2q/B7/2P1n3/P3nN2/4BPPP/QR4K1 w - - 0 1", "responseMoves": ["g6", "Rxb8", "Kg7"],
     "saliencyGroundTruth": ["a1", "c7", "b1", "f7", "f2", "g7", "g2", "b8", "e3", "h7"],
     "solution": ["Qb2", "Qxb8", "Rxb8+", "Rxa8"]},
    {"fen": "r1q4r/p2p2p1/1pkPp1Bp/2p1Pp2/2P1b2Q/1P5P/P5P1/2B2RK1 w - - 0 1", "responseMoves": ["fxe4"],
     "saliencyGroundTruth": ["h4", "c4", "e5", "g6", "c5", "b6"], "solution": ["Qxe4+", "Bxe4#"]},
    {"fen": "3r1k1r/1p2qp1p/p2Nbp2/6p1/1Q2P1P1/5P2/PPP5/2KR3R w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["d6", "h1", "f7", "c2", "d1", "b4"], "solution": ["Nf5"]},
    {"fen": "2R5/3r1p1k/4pPpp/p3q3/1p4PP/8/PP6/1KQ5 w - - 0 1", "responseMoves": ["Kxh6"],
     "saliencyGroundTruth": ["c1", "f7", "h4", "g6", "c8", "f6"], "solution": ["Qxh6+", "Rh8#"]},
    {"fen": "R7/2q2ppk/3bp2p/3p4/1n1P1N2/4PNP1/2r2P1P/3Q2K1 w - - 0 1", "responseMoves": ["hxg5"],
     "saliencyGroundTruth": ["f3", "a8", "f4", "d1"], "solution": ["Ng5+", "Qh5#"]},
    {"fen": "r1r3k1/p2bqpbp/1p2p1p1/nP1p4/PBnP1N2/1Q2P1P1/5PBP/R1RN2K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["b3", "c4", "a1", "b4", "a8", "c1", "g2", "d5", "e7", "c8"], "solution": ["Qxc4"]},
    {"fen": "r2q1r2/3n1pk1/p5pp/2ppP1N1/1p5P/8/PPP2PP1/2KRQ2R w - - 0 1", "responseMoves": ["Re8"],
     "saliencyGroundTruth": ["e5", "g5", "h4", "f8", "h1", "d8", "e1", "d1"], "solution": ["e6", "Rxd5"]},
    {"fen": "6rk/p3PQpp/1p4n1/1b1p4/3P1BR1/P6q/1KP2P2/6R1 w - - 0 1", "responseMoves": ["hxg6"],
     "saliencyGroundTruth": ["g4", "d5", "f7", "g6", "g1"], "solution": ["Rxg6", "Qxd5"]},
    {"fen": "6k1/2R3pp/5n2/3p4/r1p5/5BP1/1r3P1P/4R1K1 w - - 0 1", "responseMoves": ["Nxd5"],
     "saliencyGroundTruth": ["f3", "h7", "c7", "e1"], "solution": ["Bxd5+", "Re8#"]},
    {"fen": "q2r3k/1bRQp2p/p2pBbp1/1p1P4/1P2PP2/4B3/P5PP/6K1 w - - 0 1", "responseMoves": ["Bxe7", "Bf6"],
     "saliencyGroundTruth": ["d7", "e6", "e3", "f6", "h7"], "solution": ["Qxe7", "Bd4+", "Bxf6#"]},
    {"fen": "8/1p1k4/p5pp/4K1B1/6PP/2P5/1P3b2/8 w - - 0 1", "responseMoves": ["gxh5"],
     "saliencyGroundTruth": ["h4", "g4", "g5", "c3"], "solution": ["h5", "gxh5"]},
    {"fen": "8/8/5rp1/2p1k3/8/2rP4/4PR2/R3K3 w Q - 0 1", "responseMoves": ["cxd4", "Ke6"],
     "saliencyGroundTruth": ["d3", "f6", "f2", "a1"], "solution": ["d4+", "Ra5+", "Ra6+"]},
    {"fen": "2r2rk1/3bbp2/1q2N1pp/p2nB3/Pp2N1QP/4P3/1P3PP1/R2R2K1 w - - 0 3",
     "responseMoves": ["Bxe6", "Bxd5", "f6", "Kh8"], "saliencyGroundTruth": ["d1", "e4", "f2", "g4", "d5", "e6", "e5"],
     "solution": ["Rxd5", "Qf4", "Qxh6", "Qxg6+", "Ng5"]},
    {"fen": "7r/5pk1/2p2npq/8/1P2PNP1/5PQ1/1PP5/R5K1 w - - 0 1", "responseMoves": ["Kh7", "Qh5"],
     "saliencyGroundTruth": ["f4", "g6", "a1", "g3", "g4"], "solution": ["Ne6+", "g5", "Nf4"]},
    {"fen": "r4b1k/1nq2b1p/3p1P2/4pP2/1p2P2Q/1P3B2/r1PRN3/2B3RK w - - 0 1", "responseMoves": ["exd4", "Kxh7"],
     "saliencyGroundTruth": ["e2", "d6", "f6", "c7", "g1", "h4", "d2", "c1"], "solution": ["Nd4", "Qxh7+", "Rh2+"]},
    {"fen": "1r1k3r/p1p3b1/1pB1R1n1/1P1p2p1/6n1/B1N5/P1P3PP/5R1K w - - 0 1", "responseMoves": ["Rxf8"],
     "saliencyGroundTruth": ["f1", "h2", "a3", "c6", "e6", "c7", "h8"], "solution": ["Rf8+", "Bxf8"]},
    {"fen": "5rrk/5pb1/p1pN3p/7Q/1p2PP1R/1q5P/6P1/6RK w - - 0 1", "responseMoves": ["Bxh6", "Kg7"],
     "saliencyGroundTruth": ["h5", "g8", "h4", "f8", "d6", "f7"], "solution": ["Qxh6+", "Rxh6+", "Nf5#"]},
    {"fen": "r2k3q/2R1npr1/p3p1p1/nN1pP1N1/3P1Q1P/1P1B2P1/5P2/6K1 w - - 0 3", "responseMoves": ["Rxf7", "Ke8"],
     "saliencyGroundTruth": ["f4", "c7", "b5", "g5"], "solution": ["Qxf7", "Nxe6+", "Nd6#"]},
    {"fen": "r2r2k1/2p3p1/3Pq3/p1p1bpPQ/4p3/P7/1P3PP1/R3K2R w KQ - 0 1", "responseMoves": ["Kf8", "Qxf5"],
     "saliencyGroundTruth": ["g5", "g7", "f2", "h1", "d6", "h5"], "solution": ["g6", "Qxf5+", "Rh8#"]},
    {"fen": "2rr2k1/p3n1q1/4P1p1/1p3p1Q/2p5/2P5/PP2B2R/6RK w - - 0 1", "responseMoves": ["Nxg6", "Qe5", "Kf8"],
     "saliencyGroundTruth": ["h2", "g1", "e7", "g7", "e6", "h5"], "solution": ["Rxg6", "Rg2", "Qxg6+", "Qf7#"]},
    {"fen": "3Q1bk1/p4p2/b3p2p/8/q7/P3N2P/4nPP1/1BR4K w - - 0 1", "responseMoves": ["Qb5", "Kxh7", "Nxc1", "Kg8"],
     "saliencyGroundTruth": ["e3", "b1", "h3", "d8"], "solution": ["Ng4", "Bh7+", "Qxf8", "Qxh6+", "Nf6#"]},
    {"fen": "r1b2krQ/1pR1bp1p/1q2p3/1B6/4p3/8/P1P3PP/5R1K w - - 0 1", "responseMoves": ["Kxe7", "Kd6"],
     "saliencyGroundTruth": ["c7", "b6", "b5", "f1", "h8"], "solution": ["Rxe7", "Qf6+", "Rd1+"]},
    {"fen": "r1b1r1kb/1pq2p1p/1npp1Pp1/2n5/2PNP2Q/1PN1B2P/2B3P1/3R1RK1 w - - 0 1",
     "responseMoves": ["cxb5", "Qb8", "Rd8"], "saliencyGroundTruth": ["d4", "c3", "c7", "f6", "h7"],
     "solution": ["Ndb5", "Nxb5", "Nxd6", "Nxf7"]},
    {"fen": "8/p3P1pk/1p5p/2pBq3/4p3/P5P1/1P3RP1/6K1 w - - 0 9", "responseMoves": ["Kh8"],
     "saliencyGroundTruth": ["d5", "h6", "g7", "f2", "e7"], "solution": ["Bg8+", "Be6"]},
    {"fen": "4n1rk/1q1r1p1p/4p1pQ/4P3/8/2p1BR2/1P3PP1/5R1K w - - 0 1", "responseMoves": ["Kxh7", "Kg7", "Kh8"],
     "saliencyGroundTruth": ["h6", "f3", "e5", "e3", "f7", "g2", "g6"], "solution": ["Qxh7+", "Rh3+", "Bh6+", "Bf8#"]},
    {"fen": "6k1/2q1rppp/Bp2p3/3bQ3/P7/1P5P/3R1PP1/6K1 w - - 0 2", "responseMoves": ["Qd7", "Re8"],
     "saliencyGroundTruth": ["d2", "h7", "f7", "g7", "a6", "e5"], "solution": ["Rc2", "Rc8+", "Qc7"]},
    {"fen": "5q1k/2p3Rp/1p1rnP2/p4p2/2Q5/PP2P3/1B3P1P/7K w - - 0 1", "responseMoves": ["Rxe6"],
     "saliencyGroundTruth": ["c4", "f6", "g7"], "solution": ["Qxe6", "f7"]},
    {"fen": "3q1rk1/1bp2ppp/1p5r/8/8/1BP3Q1/PP4PP/4RRK1 w - - 0 1", "responseMoves": ["Rxf7"],
     "saliencyGroundTruth": ["f1", "h2", "c3", "e1", "b3", "h7", "g3", "g7"], "solution": ["Rxf7", "Qxc7"]},
    {"fen": "4r1k1/R5pp/3Q1pq1/p3P3/8/B6P/2b3PK/8 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["a7", "d6", "e5", "a3", "f6", "h7", "h3"], "solution": ["Ra8"]},
    {"fen": "r1b2rk1/p1q1np1p/2p1p1p1/1pP1N2P/3P4/3R2Q1/1P3PP1/1BK4R w - - 0 1", "responseMoves": ["Qxg3", "Kh8"],
     "saliencyGroundTruth": ["h1", "g3", "d3", "c7"], "solution": ["Nxg6", "Nxe7+", "Rxg3"]},
    {"fen": "8/8/5pkp/P2R1p2/8/3P2p1/5qP1/5R1K w - - 0 1", "responseMoves": ["gxf2", "Kxf5", "Kxg4"],
     "saliencyGroundTruth": ["f1", "d5", "f2", "g2"], "solution": ["Rxf2", "Rxf5", "g4+", "Kg2"]},
    {"fen": "3r1rk1/2q2p1p/1n5Q/1pp1pp2/8/1BP4P/1P3PP1/R2R2K1 w - - 0 1", "responseMoves": ["Qxf7"],
     "saliencyGroundTruth": ["h6", "c7", "d1", "b3", "d8"], "solution": ["Bxf7+", "Rxd8"]},
    {"fen": "r4r1k/ppq3pp/3R4/4N1B1/4P3/1Q6/PP2b1PP/2R3K1 w - - 0 1", "responseMoves": [],
     "saliencyGroundTruth": ["b3", "d6"], "solution": ["Qd1"]},
    {"fen": "2r4k/p5pp/1p1P1r2/3B1p2/8/8/PP3PPP/4R1K1 w - - 0 1", "responseMoves": ["Rd8", "Rf8", "g6", "Rxf8"],
     "saliencyGroundTruth": ["d6", "d5", "e1"], "solution": ["d7", "Re8+", "Bf7", "Rxf8+", "Be8"]},
    {"fen": "r1bqkb1r/1p3ppp/p7/3N4/8/3Q1N2/PP3PPP/3R1RK1 w kq - 0 1", "responseMoves": ["Qxf6", "Be7"],
     "saliencyGroundTruth": ["d5", "f1", "f7", "d3", "d1"], "solution": ["Nf6+", "Rfe1+", "Qd8#"]},
    {"fen": "2q1n2k/p5b1/1p1pN2p/1P1P2p1/3n4/2r1pQP1/P5BP/5RK1 w - - 0 1", "responseMoves": ["Bxf8", "Kh7"],
     "saliencyGroundTruth": ["f3", "e8", "g2", "e6", "g7", "f1"], "solution": ["Qf8+", "Rxf8+", "Be4+"]},
    {"fen": "4rk2/pp3p1Q/3qb2p/2r3pP/3p4/P7/1P2RPP1/1B2R1K1 w - - 0 1", "responseMoves": ["Qf4", "Ke7"],
     "saliencyGroundTruth": ["b1", "h5", "e2", "h7", "h6"], "solution": ["Bg6", "Qh8+", "Rxe6+"]},
    {"fen": "5rk1/3R1ppp/p5q1/3BPp2/5P2/2P1b2P/P1Q5/7K w - - 0 1", "responseMoves": ["Rxf7", "Rf8", "Qf7", "Qe7"],
     "saliencyGroundTruth": ["d5", "e5", "h7", "g7", "c2", "d7"], "solution": ["Bxf7+", "Rd8+", "Qb3+", "e6", "Rd7"]},
    {"fen": "r5rk/1pp1n1pp/p1n1b1q1/3p1p2/7R/2QB1N2/PB3PPP/4R1K1 w - - 0 1", "responseMoves": ["Qxe6", "Qg6", "Qxh7"],
     "saliencyGroundTruth": ["e1", "g2", "f3", "h4", "e6"], "solution": ["Rxe6", "Ng5", "Rxh7+", "Nf7#"]},
    {"fen": "8/1p4p1/2k2p1p/5P2/4P1PP/3K4/8/8 w - - 0 1", "responseMoves": ["fxe5", "hxg5", "gxf6"],
     "saliencyGroundTruth": ["e4", "g4", "f5", "h4"], "solution": ["e5", "g5", "f6", "h5"]},
    {"fen": "r2q1rk1/1ppb1pp1/p1n4p/4pN2/4P3/1BP2Q2/PP3PPP/R2R2K1 w - - 0 1", "responseMoves": ["Qxd7"],
     "saliencyGroundTruth": ["d1", "f3", "f5", "d7"], "solution": ["Rxd7", "Qg4"]},
    {"fen": "8/6pp/8/1kPPp3/1pn1P3/1N1K3P/1r4P1/2R5 w - - 0 1", "responseMoves": ["exd4"],
     "saliencyGroundTruth": ["b3", "c1", "c4"], "solution": ["Nd4+", "Rxc4"]},
    {"fen": "4rN2/p3PR2/2pb4/2p3k1/8/5K1P/P7/8 w - - 0 1", "responseMoves": ["Kxh4"],
     "saliencyGroundTruth": ["h3", "f8", "e7", "f7"], "solution": ["h4+", "Rf5"]},
    {"fen": "4rrk1/2q1bppp/p2p4/1p1Pn3/3B1R2/P2B2Q1/1PP3PP/5R1K w - - 0 1",
     "responseMoves": ["Kxh7", "Rg8", "Kg6", "Kh6"],
     "saliencyGroundTruth": ["d3", "d4", "h7", "g3", "c7", "c2", "f4", "f1"],
     "solution": ["Bxh7+", "Rxf7", "Qh3+", "Qf5+", "Be3+"]},
    {"fen": "5rrk/3R1Qbp/6p1/6P1/8/1PP5/q5P1/5R1K w - - 0 1", "responseMoves": ["Rxg7", "Rg8"],
     "saliencyGroundTruth": ["f7", "g6", "h7", "g5", "f1", "d7"], "solution": ["Qxg7+", "Rxf8+", "Rff7"]},
    {"fen": "6k1/5rpp/p7/4B3/q3p3/2P3Q1/1P1rB1PP/4R2K w - - 0 1", "responseMoves": ["Rxg7", "Kf7"],
     "saliencyGroundTruth": ["e5", "h7", "e2", "e4", "g3", "d2"], "solution": ["Bxg7", "Qb8+", "Qf4+"]},
    {"fen": "8/1p3pkp/2rQ1p2/3b1q2/5B2/P6P/1P2R1PK/8 w - - 0 1", "responseMoves": ["Kxf8", "Kg8"],
     "saliencyGroundTruth": ["d6", "h7", "f7", "e2", "f4"], "solution": ["Qf8+", "Bh6+", "Re8#"]},
    {"fen": "3r2b1/p1Q3R1/6pk/2p4p/4Np1q/1PPB1P2/3K4/8 w - - 0 1", "responseMoves": ["Kxg6", "Kf6"],
     "saliencyGroundTruth": ["d3", "g7", "h5", "c7", "h4"], "solution": ["Rxg6+", "Nd6+", "Qxd8+"]},
    {"fen": "3n4/8/pppN4/k7/2P5/1K6/P7/8 w - - 0 1", "responseMoves": ["b5"],
     "saliencyGroundTruth": ["c4", "a2", "a6", "d6"], "solution": ["c5", "a3"]},
    {"fen": "6k1/8/2R4p/8/5qp1/P7/6P1/1R4K1 w - - 0 2", "responseMoves": ["Kg7", "Kg6", "Kh5", "Kh4", "Kxg4"],
     "saliencyGroundTruth": ["c6", "f4", "b1", "a3"], "solution": ["Rc8+", "Rb7+", "Rg8+", "Rb5+", "Rxg4+", "Rb4"]},
    {"fen": "3r1q1k/pQ3B1p/8/3R2p1/6b1/6P1/PP2r2P/5RK1 w - - 0 1", "responseMoves": ["Qxb4", "Kg7", "Kh6"],
     "saliencyGroundTruth": ["b7", "h7", "f7", "f1", "d5"], "solution": ["Qb4", "Rxd8+", "Rg8+", "Rf6#"]}]}
